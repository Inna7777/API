<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- Вы разрабатываете интернет-магазин и хотите добавить
функциональность динамического фильтрации товаров по
категориям. У вас есть форма с выпадающим списком (select), в
котором пользователь может выбрать категорию товаров. При выборе
категории товаров, необходимо динамически обновлять список
отображаемых товаров на странице, чтобы пользователь видел
только товары из выбранной категории.
1. Создайте интерфейс веб-страницы, который включает в себя
следующие элементы:
a. Выпадающий список (select) с категориями товаров.
b. Список товаров, который будет отображать товары в
соответствии с выбранной категорией.
c. Каждый товар в списке должен содержать название и
категорию.
2. Используйте HTML для создания элементов интерфейса. -->
    <!-- 1. Используйте JavaScript для обработки событий:
○ При выборе категории товаров в выпадающем списке, форма
должна следить за изменениями.
○ Динамически обновите список товаров на странице, чтобы
отображать только товары из выбранной категории.
2. Создайте объекты товаров и их категорий для имитации данных магазина.
3. Стилизуйте элементы интерфейса с помощью CSS для улучшения
внешнего вида. -->

    <select id="category-list" aria-label="State">
      <option value="all" selected>Все товары</option>
      <option value="Электроника">Электроника</option>
      <option value="Оргтехника">Оргтехника</option>
    </select>

    <div class="products"></div>

    <script>
      const productData = [
        {
          id: 1,
          name: "Ноутбук",
          category: "Электроника",
        },
        {
          id: 2,
          name: "Ноутбук234",
          category: "Электроника",
        },
        {
          id: 3,
          name: "Принтер",
          category: "Оргтехника",
        },
      ];

      const productsEl = document.querySelector(".products");
      const productHTML = createProductHtml(productData);
      productsEl.innerHTML = productHTML;
      function createProductHtml(products) {
        return products
          .map(
            (product) =>
              `<div data-product_id = '${product.id}'>
              <h3>${product.name}</h3>
              <p>${product.category}</p>
              <button class = 'add-button'>Купить</button>
          </div>`
          )
          .join("");
      }

      const selectEl = document.querySelector("#category-list");
      function getProductsBYCategory(category) {
        if (category === "all") {
          return productData;
        }
        return productData.filter((product) => product.category === category);
      }

      selectEl.addEventListener("change", () => {
        const selectedCategory = selectEl.value;
        const products = getProductsBYCategory(selectedCategory);
        const productHTML = createProductHtml(products);
        productsEl.innerHTML = productHTML;
      });

      // productsEl.addEventListener("click", ({ target }) => {
      //   if (target.closest(".add-buuton")) {
      //     return;
      //   }
      // });
    </script>
  </body>
</html>
